<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Présentation Dynamique</title>

  <!-- DEV : Tailwind via CDN (warning “prod only” mais OK pour test/local) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- remark.js LOCAL, plus de souci de MIME -->
  <script src="./remark-latest.min.js"></script>

  <style>
    .remark-slide {
      transition: opacity .6s ease, transform .6s ease;
    }
    .remark-slide[data-state="current"] {
      opacity: 1;
      transform: scale(1);
    }
    .remark-slide[data-state="hidden"] {
      opacity: 0;
      transform: scale(.8);
    }
  </style>
</head>

<body class="bg-gray-900 text-white">

  <!-- Conteneur caché qui va recevoir ton Markdown -->
  <textarea id="source-md" hidden></textarea>

  <script>
    // 1) Charge slides.md
    fetch('Cours.md')
      .then(r => {
        if (!r.ok) throw new Error(`Erreur ${r.status} sur slides.md`);
        return r.text();
      })
      .then(md => {
        // 2) Injecte le Markdown
        document.getElementById('source-md').value = md;

        // 3) Initialise remark.js
        const slideshow = remark.create({
          source: md,
          highlightStyle: 'monokai',
          slideNumber: true,
          ratio: '16:9',
          navigation: { scroll: false, touch: true }
        });

        // 4) Animation entrée/sortie
        slideshow.on('showSlide', slide => {
          document.querySelectorAll('.remark-slide')
            .forEach(s => s.setAttribute('data-state','hidden'));
          slide.slideElement.setAttribute('data-state','current');
        });
      })
      .catch(err => {
        console.error(err);
        document.body.innerHTML = `
          <div class="p-4 bg-red-700 text-white">
            <strong>Erreur : </strong>${err.message}
          </div>`;
      });
  </script>

</body>
</html>
