<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>√âvaluation des risques - DUERP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 0;
      background-color: #f5f5f5;
    }
    h1, h2 {
      color: #333;
    }
    select, input[type="text"], textarea {
      padding: 8px;
      width: 100%;
      margin: 10px 0;
    }
    textarea {
      resize: vertical;
      min-height: 40px;
      overflow-y: hidden;
    }
    .section {
      background-color: white;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 10px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    th {
      background-color: #eee;
    }
    .btn {
      background-color: #007BFF;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    .btn:hover {
      background-color: #0056b3;
    }
    .hidden {
      display: none;
    }
    /* Notice styling */
    .no-print {
      background: #fff9e6;
      border-left: 6px solid #ffc107;
      padding: 15px;
      margin-bottom: 20px;
    }
    @media print {
      .no-print {
        display: none;
      }
    }
  </style>
</head>
<body>
  
  <div class="notice no-print">
    <h2>üîç Notice d'utilisation</h2>
    <p><strong>Objectif :</strong> Ce formulaire permet de recenser et d‚Äô√©valuer les risques professionnels identifi√©s dans chaque unit√© de travail du coll√®ge, conform√©ment √† la r√©glementation (Code du travail et fonction publique).</p>
    <p>Dans la fonction publique, la d√©marche d‚Äô√©valuation des risques est une obligation de l‚Äôemployeur. Elle contribue √† am√©liorer la pr√©vention et la protection de la sant√© et la s√©curit√© de tous (agents, √©l√®ves, public), conform√©ment aux principes g√©n√©raux de pr√©vention.</p>

    <ul>
      <li><strong>1. Choisir l‚Äôunit√© de travail :</strong> S√©lectionnez dans la liste le p√©rim√®tre concern√© (lieu + activit√©).</li>
      <li><strong>2. Nom du r√©f√©rent :</strong> Indiquez vos nom et pr√©nom pour le suivi du document unique.</li>
      <li><strong>3. Identifier les dangers :</strong> Cochez ¬´ Pr√©sent ¬ª si le danger existe dans l‚Äôunit√©.</li>
      <li><strong>4. Fr√©quence :</strong> S√©lectionnez la fr√©quence d‚Äôexposition (Rare, Occasionnelle, etc.).</li>
      <li><strong>5. Gravit√© :</strong> Estimez l‚Äôimpact potentiel (Mineure, Grave, Critique...).</li>
      <li><strong>6. Commentaires :</strong> Soyez concrets : description de situations dangereuses, lieux pr√©cis, suggestions de pr√©vention. Cette zone s‚Äôagrandit automatiquement.</li>
    </ul>

    <p>Vous pouvez vous r√©f√©rer au <em>Document Unique d‚Äô√âvaluation des Risques (DUERP)</em>, aux <em>fiches m√©thodologiques</em> (Fiches 1 √† 6) et √† la <em>liste des dangers</em> INRS ED 840 pour plus de d√©tails. L‚Äôobjectif est de faciliter la mise √† jour et la hi√©rarchisation des risques afin d‚Äô√©laborer le <strong>programme annuel de pr√©vention</strong>.</p>

    <p><em>Note :</em> Cette notice ne sera pas imprim√©e lors de la g√©n√©ration du PDF, afin de rendre la fiche finale plus concise.</p>
  </div>

  <h1>Fiche d'√©valuation des risques DUERP</h1>

  <div class="section">
    <label for="unite">S√©lectionner l'unit√© de travail :</label>
    <select id="unite">
      <option value="">-- Choisir une unit√© --</option>
      <option>Accueil (B√¢timent B)</option>
      <option>Activit√© de gestion de magasin / ma√Ætre ouvrier (B√¢timent D - Atelier OP)</option>
      <option>Activit√©s d‚Äôenseignement √† l‚ÄôEPS (B√¢timent C - RDC - Salle polyvalente)</option>
      <option>Activit√©s d‚Äôenseignement √† l‚ÄôEPS (Cour)</option>
      <option>Activit√©s d‚Äôenseignement en atelier (B√¢timent D - Ateliers)</option>
      <option>Activit√©s d‚Äôenseignement et pr√©paration en laboratoire (B√¢timent A - R1 et R2)</option>
      <option>Activit√©s d‚Äôenseignement g√©n√©ral (B√¢timent A - RDC R1 et R2)</option>
      <option>Activit√©s d‚Äôenseignement g√©n√©ral (B√¢timent D - R1)</option>
      <option>Activit√©s d‚Äôenseignement g√©n√©ral (B√¢timent C - R1)</option>
      <option>Activit√©s d‚Äôenseignement g√©n√©ral (B√¢timent C - R1 - CDI)</option>
      <option>Administratif / Direction (B√¢timent B - RDC)</option>
      <option>Administratif / Direction (B√¢timent C - P√¥le ASH)</option>
      <option>Autre unit√©‚Ä¶ (Parking)</option>
      <option>Autre unit√©‚Ä¶ (V√©hicules de service)</option>
      <option>Autre unit√©‚Ä¶ (Sorties et voyages scolaires)</option>
      <option>Cuisine (B√¢timent E - Cuisine)</option>
      <option>Restauration scolaire (B√¢timent E - Self)</option>
      <option>Entretien (B√¢timents A, B, C, D)</option>
      <option>Maintenance (Coll√®ge entier)</option>
      <option>Personnels Sant√© / Social (B√¢timent A - Infirmerie - RDC)</option>
      <option>Personnels Sant√© / Social (B√¢timent A - RDC)</option>
      <option>Vie scolaire (B√¢timent A - RDC)</option>
    </select>

    <label for="referent">Nom du r√©f√©rent :</label>
    <input type="text" id="referent" placeholder="Pr√©nom NOM">
  </div>

  <div class="section">
    <h2>Dangers identifi√©s</h2>
    <table>
      <thead>
        <tr>
          <th>Danger</th>
          <th>Pr√©sent</th>
          <th>Fr√©quence</th>
          <th>Gravit√©</th>
          <th>Commentaires</th>
        </tr>
      </thead>
      <tbody id="danger-table"></tbody>
    </table>
  </div>

  <button class="btn" onclick="window.print()">üìÑ G√©n√©rer PDF</button>

  <script>
    const dangers = [
      "Chute de plein pied",
      "Chute de hauteur",
      "Manutention manuelle",
      "Manutention m√©canique",
      "Circulation / d√©placement",
      "Chute d‚Äôobjets",
      "Machines et outils",
      "Bruit",
      "Produits / d√©chets / agents bio",
      "Incendie / explosion",
      "√âlectricit√©",
      "Ambiance thermique",
      "Hygi√®ne",
      "Manque de formation",
      "Risque routier",
      "Risques psychosociaux"
    ];

    const tableBody = document.getElementById('danger-table');
    dangers.forEach((danger, index) => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${danger}</td>
        <td><input type="checkbox" id="present-${index}" onchange="toggleVisibility(${index})"></td>
        <td><select id="freq-${index}" class="hidden">
          <option>--</option>
          <option>Rare</option>
          <option>Occasionnelle</option>
          <option>Fr√©quente</option>
          <option>Quotidienne</option>
        </select></td>
        <td><select id="grav-${index}" class="hidden">
          <option>--</option>
          <option>Mineure</option>
          <option>Significative</option>
          <option>Grave</option>
          <option>Critique</option>
        </select></td>
        <td><textarea id="comment-${index}" class="hidden" rows="1" oninput="autoGrow(this)"></textarea></td>
      `;
      tableBody.appendChild(row);
    });

    function toggleVisibility(index) {
      const checked = document.getElementById(`present-${index}`).checked;
      document.getElementById(`freq-${index}`).classList.toggle('hidden', !checked);
      document.getElementById(`grav-${index}`).classList.toggle('hidden', !checked);
      document.getElementById(`comment-${index}`).classList.toggle('hidden', !checked);
    }

    function autoGrow(textarea) {
      textarea.style.height = "5px";
      textarea.style.height = (textarea.scrollHeight) + "px";
    }
  </script>
</body>
</html>
